# Moodle

Проект містить контейнер з Moodle та необхідними для його функціонування сервісами (mysql та поштовий сервер).
Також папки:
* `moodle/config` містить `config.php`, що налаштований на локальний mysql сервер. Цей конфіг при кожному старті контейнера копіюється в папку moodle. 
* `moodle/data` - папка для `moodledata`, в ідеалі повинна бути мережевою для підтримки декількох контейнерів з moodle.
* `mysql` містить дамп локальної бази щойно встановленого та налаштованого локального moodle. 

## Запуск локально 

```bash
docker-compose up -d mysql mailserver roundcube
docker-compose up -d moodle
```

Післа запуску контейнерів будуть доступні:
* Мудл http://localhost:8100
* Roundcube (поштовий веб-інтерфейс) http://localhost:8025

## Запуск на сервері

Потрібно змінити `moodle/config/config.php`, записати туди дані для доступу до БД. Також адресу сайту та шлях до moodledata. Якщо потрібно - прокинути moodledata з хост-машини в контейнер (див.`docker-compose.yml`, розділ `volumes`).

Інші налаштування зберігаються в БД.

## Електронна пошта

Поштовий сервер запускається в режимі розробника: він приймає листи для будь-якої адреси та складає локально. Також під будь-яким користувачем можна зайти через Roundcube та ці листи подивитися.

## TODO

* В Мудлі є плагін для зовнішньої ФС, потрібно визначитися з сервісом (S3, Azure), потрібно почитати, як налаштувати плагін - https://moodle.org/plugins/tool_objectfs - чи можливо просто використовувати nfs.
